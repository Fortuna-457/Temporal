{% extends '../Base/base-registration.html' %}
{% load static %}

{% block title %}
    Login
{% endblock title %}

{% block content %}
    <div class="wrapper">
        <form class="text-center" method="POST">
        {% csrf_token %}
            <div class="login_box">
                <div class="login-header">
                    <span>LOG IN</span>
                </div>
                <div class="input_box">
                    <input type="text" name="user" id="user" class="input-field" required>
                    <label for="user" class="label">Username</label>
                    <i class="bx bx-user icon"></i>
                </div>

                <div class="input_box">
                    <input type="password" name="pass" id="pass" class="input-field" required>
                    <label for="pass" class="label">Password</label>
                    <i class="bx bx-lock-alt icon"></i>
                </div>

                <div class="remember-forgot">
                    <div class="remember-me">
                        <input type="checkbox" id="remember" name="remember"></input>
                        <label for="remember">Remember me</label>
                    </div>

                    <div class="forgot">
                        <a href="{% url 'reset_password' %}">Forgot password?</a>
                    </div>
                </div>

                <div class="input_box">
                    <input type="submit" class="input-submit" value="login"></input>
                </div>

                <div class="register">
                    <span>Don't have an account? <a href="{% url 'register' %}">Register</a></span>
                </div>
            </div>
        </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        
    // Add an eye icon at the end of the password field
    $('.input_box').append('<i class="bx bx-show icon toggle-password"></i>');

    // Initially hide the eye icon and set its right property
    $('.toggle-password').css({
        'display': 'none',
        'right': '50px'
    });

    // Show the eye icon when the user starts typing in the password field
    $('.input-field[type="password"]').on('input', function() {
        $(this).siblings('.toggle-password').show();
    });

    // Hide the eye icon when the user stops typing
    $('.input-field[type="password"]').on('keyup', function() {
        if($(this).val() === '') {
            $(this).siblings('.toggle-password').hide();
        }
    });
    // Toggle the type attribute of the password field between 'text' and 'password'
    $('.toggle-password').click(function() {
        var input = $(this).siblings('input');
        if (input.attr("type") == "password") {
            input.attr("type", "text");
            $(this).attr("class", "bx bx-hide icon toggle-password"); // change the eye icon to 'hide'
        } else {
            input.attr("type", "password");
            $(this).attr("class", "bx bx-show icon toggle-password"); // change the eye icon back to 'show'
        }
    });

    </script>
{% endblock content %}


{% block extra_footer %}
    
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

{% endblock extra_footer %}